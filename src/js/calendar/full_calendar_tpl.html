<style type="text/css">
    .search {
        background: none repeat scroll 0 0 #eee;
        border: 1px solid #ccc;
        float: left;
        padding: 0 10px;
        text-align: left;
        width: 150px;
        position: absolute;
    }

    #searchJob {
        width: 129px;
        margin-left: 0%;
        margin-top: 2%;
        margin-bottom: 2%;
    }

    .position {
        position: absolute;
    }

    .hide {
        display: none;
    }

    .show {
        display: inline;
    }

	 /* Override some calendar options */
	 .fc-agenda-view .fc-day-grid .fc-row {
	 		min-height: 35em; /* all-day section will never get shorter than this */
		}
	/* hide time in week view for now */
	 .fc-time-grid-container {
			height:1px !important;
	 }
</style>

<div class="search">
    <span>Search Job:</span><br />
    <input type="text" id="searchJob" ng-model="serhtxt" ng-keyup="search(serhtxt)" />
</div>
<div id='external-events' style="margin-top: 52px;">
    <h4 style="width:105%;">Approved Jobs</h4>

    <div class='fc-event drop-accpted' ng-repeat="singleJob in UnscheduledJobs | orderBy:'reportID'" ng-click="openJob(singleJob)" ng-class="'clr-'+singleJob.status" style='padding:.25em .5em' data-price="{{singleJob.price}}" data-reportID="{{singleJob.reportID}}">
        {{singleJob.title}}
    </div>
    <p>
        <input type='checkbox' id='drop-remove' checked ng-show="false" />
        <!--  <label for='drop-remove'>remove after drop</label>-->
    </p>
</div>
<div id='calendar'></div>

<!-- color key -->
<div style='clear:both;'><BR></div>
<div style='clear:both;padding:2em.'>
	<span class='small-tag approved'> APPROVED </span> &nbsp; 
	<span class='small-tag scheduled'> SCHED </span> &nbsp; 
	<span class='small-tag completed'> COMPLETED </span> &nbsp; 
	<span class='small-tag invoiced'> INVOICED </span> &nbsp; 
	<span class='small-tag paid'> PAID </span>
</div>


<!--(Start) Modal Pop Up To Show Info about Job-->
<div id="fullCalModal" class="modal fade" tabindex='-1'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span> <span class="sr-only">close</span></button>
                <h4 id="modalTitle" class="modal-title"></h4>
                <h4 id="modalSiteID" class="modal-site" ng-show="true" ng-model="siteID"></h4>
            </div>
            <div id="modalBody" class="modal-body">
                  <div class="row">
                    <div class="col-md-6" style='text-align:left; line-height:1.4em;'>
						  		<b style='font-size:1.4em;'>{{ siteName }}</b><BR>
								{{ street }}<BR>
								{{ city }}, {{ state }}<BR>
								{{ zip }} 
								<span style='color:#999;'>
									(<a target=_new href='http://maps.google.com/?q={{street}}, {{city}}, {{state}} {{zip}}'>map</a>)
								</span>
								<BR><BR>

								<b style='font-size:1.2em;'>{{ contact }}</b><BR>
								<a href='{{email}}'>{{email}}</a><BR>
								{{ phone }}

                    </div>
                    <div class="col-md-6" style='text-align:left; line-height:1.3em;'>
						  

                    <a href ng-if="auth.isAtleast('inventory')" editable-select='tree.speciesID' onaftersave="updateTreeName()"
                       e-ng-options='obj.speciesID as obj.bothNames for obj in initData.filters.species'>
                        {{ tree.commonName || '(not specified)' }}
                    </a>

						  		Foreman: <a href="#" editable-select="job_user.userID"  
										e-ng-options="g.id as g.text for g in groups" 
										onaftersave="savejobtoforeman()">{{ job_user.name || 'Select a Foreman' }}</a>
										<BR><BR>

								Sales: <a href="#" editable-select="sales_user.userID"  
										e-ng-options="g.id as g.text for g in groups" 
										onaftersave="savejobtoSalesUser()">{{ sales_user.name || 'Select a Sales Rep' }}</a>
										<BR><BR>
										<BR>
								<span style='font-size:2.2em;'>${{price|formatPrice}}</span><BR>

                    </div>
                </div>
                  <div class="row">
							{{ job_start }} - {{ job_end }}
						</div>
            </div> <!-- }} body -->

            <div class="modal-footer">

               <!-- <input type="button" class="btn btn-success" ng-click="open(siteID)" value="JobAssignToForeman"></input>-->
                <input type="button" class="btn btn-success" ng-hide="clickedEvent.type == 'Unscheduled'" ng-click="UnscheduledJob()" value="Unschedule Job"></input>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!--(End) Modal Up To Show Info about Job-->

<!---(Start) Modal Pop Up  To Show List of  Foreman----->
<div id="jobassignforemanpopup" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span> <span class="sr-only">close</span></button>
                <h4 id="assignjobtitle" class="modal-title"></h4>

            </div>
            <div id="assignjobbody" class="modal-body">
               <!-- <a href="#" editable-select="user.group" onshow="loadGroups()" e-ng-options="g.id as g.text for g in groups">{{ user.groupName || 'Select Foreman' }}
                </a>-->
                <!--<div ng-repeat="foreman in foremans">{{foreman.foremanname}}</div>-->
              

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                <input type="button" class="btn btn-success" value="SaveJobToForeman" ng-click="savejobtoforeman(user.groupName)"></input>
            </div>
        </div>
    </div>
</div>
<!---(End) Modal Pop Up  To Show List of  Foreman----->

