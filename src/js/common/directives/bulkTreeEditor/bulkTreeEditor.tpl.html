<div class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" ng-show="title">
                <button type="button" class="close" ng-click="hide()">&times;</button>
                <h4 class="modal-title">Bulk editing of <label ng-if="mode=='site'">Property</label><label ng-if="mode=='report'">Estimate</label></h4>
            </div>
            <div>
                <form class="form-inline">
                    <div class='panel panel-default bottomMargin0'>
                        <div class='panel-body'>
                            <h4 style="font-weight: bold" ng-if="mode=='report'" ng-bind="report"></h4>
                            <h3>Edit all trees where</h3>
                            <div class="containter">
                                <div class="row" style="margin: 15px 2px 10px 5px;">
                                    <input type="checkbox" ng-model="selected.isTreatmentSelected" ng-change="selectionChanged()"/>
                                    <label ng-if="mode=='report'" class="" style="font-weight: bold;width: 30%">Treatment</label>
                                    <label ng-if="mode=='site'" class="" style="font-weight: bold;width: 30%">Recommendation</label>
                                    <select ng-model="selected.treatment" style="width: 40%" ng-change="selectionChanged()"  ng-options="t.treatmentType for t in treatments" required>
                                    </select> &nbsp;</br>
                                    <input type="checkbox" ng-model="selected.isSpeciesSelected" ng-change="selectionChanged()"/>
                                    <label class="" style="font-weight: bold;width: 30%">Species</label>
                                    <select ng-model="selected.species" style="width: 40%" ng-change="selectionChanged()" ng-options="s.commonName for s in species" required>
                                    </select> &nbsp;</br>
                                    <input type="checkbox" ng-model="selected.isDbhSelected" ng-change="selectionChanged()"/>
                                    <label class="" style="font-weight: bold;width: 30%">dbh</label>
                                    <select ng-model="selected.dbh" style="width: 40%" ng-change="selectionChanged()" ng-options="d.diameter for d in dbh" required>
                                    </select> &nbsp;
                                    </br>
                                    <span ng-if="mode=='site'">
                                        <input type="checkbox" ng-change="selectionChanged()" ng-model="selected.isYearSelected"/>
                                        <label class="" style="font-weight: bold;width: 30%;pointer-eve">Year</label>
                                        <select ng-if="mode='site'" ng-model="selected.year" style="width: 40%" ng-change="selectionChanged()" ng-options="y.year for y in years" required>
                                        </select> &nbsp;</br>
                                    </span>
                                </div>
                                <div clas="row" style="margin: 10px; height: 50px;background-color: #808080">
                                    <span style="font-size: large;margin-left: 40px;margin-top: 5px;;position: absolute;">
                                        {{currentInfo.treeCount}} trees selected</br>
                                        {{currentInfo.treatmentCount}} Treatments @ {{currentInfo.price | currency}}
                                    </span>
                                </div>
                                <div clas="row" style="margin: 15px 2px 10px 5px;">
                                    <span ng-style="singleTreatmentSelected?'':{'pointer-events':'none','color':'grey'}">
                                        </br><input type="checkbox" ng-model="selected.IsSetPrice"/>
                                        <label class=""  ng-classstyle="font-weight: bold;width: 30%">Set price to</label>
                                        <input type="number" ng-model="selected.selected.addedTreatRecomYearsetPrice" placeholder="Enter a price"/> &nbsp;</br>
                                    </span>
                                    <span>
                                        </br><input type="checkbox" ng-model="selected.isPriceAdjusted"/>
                                        <label class="" style="font-weight: bold;width: 40%">Increase/Decrease price</label></br>
                                        <span>
                                            <input style="margin-left: 40px" type="radio" ng-model="selected.IschgPrice" value="1"/>By $$ <input type="number" ng-model="selected.chgPriceBy"> </br>
                                            <input style="margin-left: 40px" type="radio" ng-model="selected.IschgPrice" value="0"/>By <input type="number" min="-99" max="99" ng-model="selected.chgPriceByPercent"> %
                                        </span>
                                        &nbsp;</br>
                                    </span>
                                </div>
                                <div class="row" style="margin: 15px 2px 10px 5px;">
                                    <input type="checkbox" ng-model="selected.removeFromRecommendation"/>
                                        <label ng-if="mode=='site'"  style="font-weight: bold">Remove from Recommendation</label>
                                        <label ng-if="mode=='report'"  style="font-weight: bold">Remove from Estimate</label>
                                    </br>
                                    <span ng-style="singleTreatmentSelected?'':{'pointer-events':'none','color':'grey'}">
                                        <input type="checkbox" ng-model="selected.IsChangeToTreatment"/>
                                        <label ng-if="mode=='site'"  style="font-weight: bold">Change Recommendation to</label>
                                        <label ng-if="mode=='report'" style="font-weight: bold">Change treatment to</label></br>
                                        <select ng-model="selected.changeTreatmentTo" class="pull-right"  style="width: 40%;margin-right: 25%"  ng-options="t.treatmentType for t in allTreatments|orderBy:'treatmentType'" required>
                                        </select> &nbsp;</br>
                                    </span>
                                    </br>
                                    <input type="checkbox" ng-model="selected.IsChangeToYear"/>
                                    <label style="font-weight: bold">Change year to</label>
                                    <select ng-model="selected.changeYearTo" class="pull-right"  style="width: 40%;margin-right: 25%"   ng-options="y for y in yearRecommendation" required>
                                    </select> &nbsp;</br>
                                    </br>
                                </div>

                                <div class="row" style="margin: 15px 2px 10px 5px;">
                                    <input type="checkbox" ng-model="selected.IsTreatmentRecommendationAdded"/>
                                    <label ng-if="mode=='report'" style="font-weight: bold">Add Treatment</label>
                                    <label ng-if="mode=='site'" style="font-weight: bold">Add Treatment Recommendation</label>
                                    <select ng-model="selected.addedTreatRecom"  class="pull-right"  style="width: 40%;margin-right: 25%"  ng-options="t.treatmentType for t in allTreatments|orderBy:'treatmentType'" required>
                                    </select> &nbsp;</br>
                                    <select class="pull-right"  style="width: 40%;margin-right: 25%"  ng-if="mode=='site'" ng-model="selected.addedTreatRecomYear"   ng-options="y for y in yearRecommendation" required>
                                    </select> &nbsp;</br></br></br>
                                    <input type="checkbox" ng-model="selected.IsNoteAdded"/>
                                    <label style="font-weight: bold">Add Note</label>
                                    <textarea ng-model="selected.note" id="" class="pull-right"  style="width: 40%;margin-right: 25%" placeholder="Add Notes" cols="30" rows="10"></textarea>
                                </div>
                                <div style="margin-top: 5px">

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer topMargin0">
                        <button type="button" class="btn btn-default" ng-click="ok();">OK</button>
                        <button type="button" class="btn btn-default" ng-click="hide();">CLOSE</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
